"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[55],{55:(s,t,e)=>{e.r(t),e.d(t,{default:()=>N});var r=e(379),a=e(43);const o={postsBlock:"MyPosts_postsBlock__lB-pf"},i="Post_item__Yu4oG";var u=e(579);const n=s=>(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2wareh2sTFt9oXaOyjVfHUHVaYyl7JRwhyw&s",alt:""}),s.message,(0,u.jsx)("div",{children:(0,u.jsx)("span",{children:s.like})})]});var p=e(858),d=e(68);const l=a.memo((s=>{let t=[...s.posts].reverse().map((s=>(0,u.jsx)(n,{message:s.post,like:s.likesCount},s.id)));return(0,u.jsxs)("div",{className:o.postsBlock,children:[(0,u.jsx)("h3",{children:"My posts"}),(0,u.jsx)("div",{children:(0,u.jsx)(c,{addPost:s.addPost})}),(0,u.jsx)("div",{className:o.posts,children:t})]})})),c=s=>{const{register:t,handleSubmit:e,formState:{errors:a}}=(0,p.mN)({});return(0,u.jsxs)("form",{onSubmit:e((t=>s.addPost(t.postText))),children:[(0,u.jsx)("div",{children:(0,u.jsx)(d.T,(0,r.A)((0,r.A)({},t("postText",{required:!0})),{},{errors:a.postText}))}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"Add post"})})]})},h=l;var x=e(977),j=e(3),m=e(923);const f=(0,m.Zz)((0,j.Ng)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,x.oL)(t))},updateNewPostText:t=>{s((0,x.vU)(t))}}))))(h);var v=e(581);const g="ProfileInfo_descriptionBlock__XBXuJ",P="ProfileInfo_coverImage__Y20fc";e(495);a.Component;const _=s=>{let[t,e]=(0,a.useState)(!1),[r,o]=(0,a.useState)(s.status);(0,a.useEffect)((()=>{o(s.status)}),[s.status]);return(0,u.jsxs)("div",{children:[!t&&(0,u.jsx)("div",{children:(0,u.jsx)("span",{onDoubleClick:()=>{e(!0)},children:s.status||"------"})}),t&&(0,u.jsx)("div",{children:(0,u.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},autoFocus:"true",type:"text",onBlur:()=>{e(!1),s.updateStatus(r)},value:r})})]})},A=s=>{let{profile:t,status:e,updateStatus:r}=s;return t?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:P}),(0,u.jsxs)("div",{className:g,children:[t.aboutMe,(0,u.jsx)("img",{src:t.photos.small}),(0,u.jsx)(_,{status:e,updateStatus:r})]})]}):(0,u.jsx)(v.A,{})},S=s=>(0,u.jsxs)("main",{children:[(0,u.jsx)(A,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,u.jsx)(f,{})]});var k=e(45),U=e(207);class b extends a.Component{componentDidMount(){let s=this.props.match.params.userId;s||(s=this.props.authorizedUserId,s||this.props.history.push("/login")),this.props.getUser(s),this.props.getUserStatus(s)}render(){return(0,u.jsx)(S,(0,r.A)((0,r.A)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatus}))}}const N=(0,m.Zz)((0,j.Ng)((s=>({profile:s.profilePage.user,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{setUserProfile:x.p,getUser:x.wz,getUserStatus:x.CD,updateUserStatus:x.pU}),(function(s){return t=>{const e={params:(0,k.g)()};return(0,u.jsx)(s,(0,r.A)((0,r.A)({},t),{},{match:e}))}}),U.$)(b)},207:(s,t,e)=>{e.d(t,{$:()=>n});var r=e(379),a=e(3),o=e(45),i=e(579);let u=s=>({isAuth:s.auth.isAuth});const n=s=>(0,a.Ng)(u)((t=>t.isAuth?(0,i.jsx)(s,(0,r.A)({},t)):(0,i.jsx)(o.C5,{to:"/login"})))}}]);
//# sourceMappingURL=55.09e53961.chunk.js.map